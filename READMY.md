# Тестовое задание Python developer
### Время на выполнение: 2-4 часа. 
Отсчет времени на выполнение начинается с первого коммита
### Стек: Python3, Asyncio, MongoDB, любая асинхронная библиотека для телеграм бота

### Описание задачи:
Вашей задачей в рамках этого тестового задания будет написание алгоритма агрегации статистических данных о зарплатах сотрудников компании по временным промежуткам. Ссылка на скачивание коллекции со статистическими данными, которую необходимо использовать при выполнении задания, находится в конце документа.

На обычном языке пример задачи выглядит следующим образом: “Необходимо посчитать суммы всех выплат с {28.02.2022} по {31.03.2022}, единица группировки - {день}”.

### Ваш алгоритм должен принимать на вход:
- Дату и время старта агрегации в ISO формате (далее dt_from)
- Дату и время окончания агрегации в ISO формате (далее dt_upto)
- Тип агрегации (далее group_type). Типы агрегации могут быть следующие: hour, day, month. То есть группировка всех данных за час, день, неделю, месяц.

### Пример входных данных:
{
"dt_from":"2022-09-01T00:00:00",
"dt_upto":"2022-12-31T23:59:00",
"group_type":"month"
}

### Комментарий к входным данным: 
Вам необходимо агрегировать выплаты с 1 сентября 2022 года по 31 декабря 2022 года, тип агрегации по месяцу
На выходе ваш алгоритм формирует ответ содержащий:
Агрегированный массив данных (далее dataset)
Подписи к значениям агрегированного массива данных в ISO формате (далее labels)

### Пример ответа:
{"dataset": [5906586, 5515874, 5889803, 6092634], "labels": ["2022-09-01T00:00:00", "2022-10-01T00:00:00", "2022-11-01T00:00:00", "2022-12-01T00:00:00"]}

### Комментарий к ответу: 
В нулевом элементе датасета содержится сумма всех выплат за сентябрь, в первом элементе сумма всех выплат за октябрь и т.д. В лейблах подписи соответственно элементам датасета.

### Запуск проекта

- Создайте на своем компютере папку проекта
- Склонируйте этот репозиторий в папку проекта `git clone https://github.com/...`
- Создайте файл `.env` и добавьте в него переменные окружения:
- Активируйте виртуальное окружение `pipenv shell`
- Установите все зависимости указанные в файле `requirements.txt`
```
BOT_TOKEN=*Ваш токен для бота, полученный от @BotFather*
```
- Запустите бота командой `python main.py` из Терминала из папки с проектом 

## В разработке использованы
- aiogram==3.4.1
- motor==3.4.0
- loguru==0.7.2
- python-dotenv==1.0.1
- pydantic==2.5.3
- pydantic-settings==2.2.1

### Коллекция со статистическими данными  
https://drive.google.com/file/d/1pcNm2TAtXHO4JIad9dkzpbNc4q7NoYkx/view?usp=sharing
